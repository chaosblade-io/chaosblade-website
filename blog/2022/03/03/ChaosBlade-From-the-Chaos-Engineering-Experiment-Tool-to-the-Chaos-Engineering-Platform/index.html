<!doctype html>
<html lang="zh" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">ChaosBlade, From the Chaos Engineering Experiment Tool to the Chaos Engineering Platform | ChaosBlade</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://chaosblade.io/img/cb-logo.png"><meta data-rh="true" name="twitter:image" content="https://chaosblade.io/img/cb-logo.png"><meta data-rh="true" property="og:url" content="https://chaosblade.io/blog/2022/03/03/ChaosBlade-From-the-Chaos-Engineering-Experiment-Tool-to-the-Chaos-Engineering-Platform"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" property="og:title" content="ChaosBlade, From the Chaos Engineering Experiment Tool to the Chaos Engineering Platform | ChaosBlade"><meta data-rh="true" name="description" content="本文会着重介绍什么是混沌工程在云原生架构下的落地与实践"><meta data-rh="true" property="og:description" content="本文会着重介绍什么是混沌工程在云原生架构下的落地与实践"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-03-03T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/xcaspar"><meta data-rh="true" property="article:tag" content="chaosblade"><link data-rh="true" rel="icon" href="/img/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://chaosblade.io/blog/2022/03/03/ChaosBlade-From-the-Chaos-Engineering-Experiment-Tool-to-the-Chaos-Engineering-Platform"><link data-rh="true" rel="alternate" href="https://chaosblade.io/en/blog/2022/03/03/ChaosBlade-From-the-Chaos-Engineering-Experiment-Tool-to-the-Chaos-Engineering-Platform" hreflang="en"><link data-rh="true" rel="alternate" href="https://chaosblade.io/blog/2022/03/03/ChaosBlade-From-the-Chaos-Engineering-Experiment-Tool-to-the-Chaos-Engineering-Platform" hreflang="zh"><link data-rh="true" rel="alternate" href="https://chaosblade.io/blog/2022/03/03/ChaosBlade-From-the-Chaos-Engineering-Experiment-Tool-to-the-Chaos-Engineering-Platform" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://AJZLJ48ZRO-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ChaosBlade RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ChaosBlade Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FY5W27B8XH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-FY5W27B8XH",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="ChaosBlade" href="/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;600&display=block">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&display=block">
<script src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/assets/css/styles.1d896bee.css">
<link rel="preload" href="/assets/js/runtime~main.c5d3ab1b.js" as="script">
<link rel="preload" href="/assets/js/main.eeac9d24.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">⭐️  &nbsp; If you like ChaosBlade, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/chaosblade-io/chaosblade">GitHub</a>! ⭐️</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/cb-head.png" alt="ChaosBlade" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/cb-head.png" alt="ChaosBlade" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">ChaosBlade</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/">1.7.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/">Next</a></li><li><a class="dropdown__link" href="/docs/">1.7.0</a></li></ul></div><a class="navbar__item navbar__link" href="/docs">文档</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/chaosblade-io/chaosblade" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-githab-link"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/en/blog/2022/03/03/ChaosBlade-From-the-Chaos-Engineering-Experiment-Tool-to-the-Chaos-Engineering-Platform" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/blog/2022/03/03/ChaosBlade-From-the-Chaos-Engineering-Experiment-Tool-to-the-Chaos-Engineering-Platform" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">简体中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">全部博文</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/11/01/chaosblade-operator">大规模 Kubernetes 集群故障注入的利器-ChaosBlade</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/09/09/chaosblade-java">ChaosBlade Java 场景性能优化，那些你不知道的事</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/24/ChaosBlade-Box-a-New-Version-of-the-Chaos-Engineering-Platform-Has-Released-ch">ChaosBlade-Box全新混沌工程平台 -- 助力企业混沌工程落地</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/24/ChaosBlade-Box-a-New-Version-of-the-Chaos-Engineering-Platform-Has-Released">ChaosBlade-Box, a New Version of the Chaos Engineering Platform Has Released</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/24/ChaosBlade-Box-new-release">混沌工程平台 ChaosBlade-Box 新版重磅发布</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2022/03/03/ChaosBlade-From-the-Chaos-Engineering-Experiment-Tool-to-the-Chaos-Engineering-Platform">ChaosBlade, From the Chaos Engineering Experiment Tool to the Chaos Engineering Platform</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/12/08/chaos-engineering-value">被你质疑价值的混沌工程，阿里巴巴已落地实践了9年</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/06/06/summer-2021">暑期2021</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/05/21/chaos-engineering">混沌工程介绍与实践</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/08/06/chaosblade-start-5">ChaosBlade：从零开始的混沌工程（五）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/07/22/chaosblade-start-4">ChaosBlade：从零开始的混沌工程（四）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/06/15/chaosblade-start-3">ChaosBlade：从零开始的混沌工程（三）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/06/09/chaosblade-start-2">ChaosBlade：从零开始的混沌工程（二）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/06/04/chaosblade-start-1">ChaosBlade：从零开始的混沌工程（一）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2019/10/17/chaosblade-cloud-native">ChaosBlade：云原生架构下的混沌工程探索和实践</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2019/07/03/chaosblade-chaos-engineering-tools">Chaosblade, 阿里一个超级牛逼的混沌实验实施工具</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">ChaosBlade, From the Chaos Engineering Experiment Tool to the Chaos Engineering Platform</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-03-03T00:00:00.000Z" itemprop="datePublished">2022年3月3日</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/xcaspar" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/3992234?s=64&amp;v=4" alt="肖长军（穹谷，@xcaspar）"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/xcaspar" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">肖长军（穹谷，@xcaspar）</span></a></div><small class="avatar__subtitle" itemprop="description">Co-creator of ChaosBlade</small></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Sang Jie</span></div><small class="avatar__subtitle" itemprop="description">Works in the R&amp;D Center of Agricultural Bank of China and is engaged in big data R&amp;D in financial-related systems.</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>ChaosBlade is Alibaba&#x27;s open-source chaos engineering project created in 2019. It has been added to CNCF Sandbox. At first, ChaosBlade was a multi-environment and multi-language chaos engineering experimental tool but developed into a multi-cluster, multi-environment, and multi-language chaos engineering platform called chaosblade-box. The platform supports experimental tool hosting and automatic tool deployment. The user&#x27;s energy is focused on solving high-availability problems in the cloud-native process through chaos engineering and a unified user experiment interface. This article introduces ChaosBlade in detail from three stages, including the abstraction of the chaos experimental model, the open-source process of the chaos experimental tool, and the update of the chaos engineering platform.</p><p><strong>In this year&#x27;s trusted cloud evaluation, the Alibaba Cloud fault drill platform passed the highest level (advanced certification required by the trusted cloud chaos engineering platform) with the highest score.</strong> </p><h1>Chaos Experimental Model</h1><p>The ChaosBlade project covers chaos experimental scenarios, such as basic resources, application services, and container services. In the beginning, the design of the experimental tool considers the unification of scenarios and the model, which facilitates the expansion and accumulation of scenarios and provides a model basis for the platform-hosted experimental tool to realize the unified scenario call. All experimental scenarios in the ChaosBlade project follow this experimental model design, which is described in detail below through the derivation, introduction, significance, and specific application of the experimental model.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-derivation-of-the-experimental-model">1. Derivation of the Experimental Model<a class="hash-link" href="#1-derivation-of-the-experimental-model" title="Direct link to heading">​</a></h2><p>Chaos experiments mainly include fault simulation. We generally describe faults in the following ways:</p><p>Disk A mounted on the machine 10.0.0.1 is full, and the service is unavailable.
The slow execution of B Dubbo services on all nodes delays the call of upstream A Dubbo services, resulting in slow user access.
All CPU cores on node B in Kubernetes cluster A are fully utilized, resulting in abnormal pod scheduling in cluster A.
The network of pod D in the Kubernetes cluster C is abnormal, which causes access exceptions in the service related to D.
We can use the following sentence to describe the failure: A certain component on a certain machine (or resources in the cluster, such as node and pod) failed, which caused the related impact. We can also view the fault detail by splitting the description, as shown in the following figure:</p><p><img loading="lazy" src="/assets/images/b137f6819df734ba681cf37d6005e4a24cbb9af7-987f899057bca78d4ef46838b79d5965.png" width="864" height="406" class="img_ev3q"></p><p>These four parts can be used to describe the existing fault scenario. Therefore, we have abstracted a fault scenario model, also known as the chaos experimental model.</p><p><img loading="lazy" src="/assets/images/795a1dba3eeeff01bcb04e277687f1cc4972a800-0017d7711e381a7c566287ccb91ed2aa.png" width="864" height="577" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-an-introduction-to-the-experimental-model">2. An Introduction to the Experimental Model<a class="hash-link" href="#2-an-introduction-to-the-experimental-model" title="Direct link to heading">​</a></h2><p>This experimental model is described in detail below:</p><p>-<strong>Scope</strong>: The scope of the experiment refers to the machines, clusters, and resources involved in the experiment.
Target: The experimental target refers to the component that bears the experiment. This includes CPU, network, and disk in basic resource scenarios, application components in Java scenarios, such as Dubbo, Redis, RocketMQ, and JVM, and Node, Pod, and the Container itself in container scenarios.
-<strong>Matcher</strong>: The experiment rule matcher defines relevant experiment matching rules based on the configured Target. You can configure multiple matchers. Each Target may have its own special matching conditions. For example, Dubbo and gRPC in the RPC field can be matched according to the services provided by the service provider and the services called by the service consumer. Redis in the cache field can be matched according to set and get operations. You can also extend the matcher, such as extending the experiment scenario execution strategy and controlling the experiment trigger time.
-<strong>Action</strong>: These are the specific scenarios of an experimental simulation. If the Target is different, the implementation scenarios are also different. For example, disks can simulate scenarios, such as full disk, high disk I/O, or disk hardware failure. Applications can abstract experimental scenarios, such as latency, exceptions, return of specified values (such as error codes and large objects), parameter tampering, and repeated calls. For container services, we can simulate Node, Pod, Container resource exceptions, or basic resource exceptions.
This model can answer the following questions that need to be clarified in implementing chaos experiments:</p><ul><li>What is the implementation scope of the chaos experiment?</li><li>What is the object of implementing the chaos experiment?</li><li>What are the conditions under which the subject triggers the experiment?</li><li>What experimental scenarios are implemented?</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-the-significance-of-the-experimental-model">3. The Significance of the Experimental Model<a class="hash-link" href="#3-the-significance-of-the-experimental-model" title="Direct link to heading">​</a></h2><p>The model has the following features:</p><ul><li>Concise: It has clear levels and is easy to understand.</li><li>General-Purpose: It covers all current fault scenarios, including basic resources, application services, container services, and cloud resources.</li><li>Easy to Implement: It is convenient to define clear interface specifications, and the expansion of experimental scenarios is simple to implement.</li><li>Language- and Field-Independent: It can be implemented in multiple languages and applied to multiple fields.</li></ul><p>This model has the following meanings:</p><ul><li>More accurate description of chaos experimental scenarios</li><li>A better understanding of chaos experiment injection</li><li>Convenient accumulation of existing experimental scenarios</li><li>Discovery of more scenarios based on the model</li><li>More standardized and concise chaos experimental tools</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-application-of-the-experimental-model">4. Application of the Experimental Model<a class="hash-link" href="#4-application-of-the-experimental-model" title="Direct link to heading">​</a></h2><p>The application of the chaos experimental model is summarized below:</p><ul><li>The chaos experimental model parameterizes the experimental scenario variables and normalizes the parameters.</li><li>The model can achieve the horizontal expansion of the experimental scenarios in other fields.</li><li>The chaos experimental model can be combined with standardization in other fields to facilitate the vertical expansion of scenarios.</li><li>Upper-layer scenarios in a field can reuse the scenario that follows the definition of the chaos experimental model.</li><li>The scenario description declared by the chaos experimental model can be well-connected to ChaosBlade.</li><li>Following the experimental model, the upper chaos experimental platform can be constructed easily.</li></ul><p>The following section focuses on ChaosBlade, a chaos engineering tool implemented based on this model.</p><h1>Chaos Engineering Experiment Tool: ChaosBlade</h1><p>In the beginning, Alibaba introduced chaos engineering to solve the dependency problem of microservices. Later, chaos engineering was used to verify the steady state of business services and cloud services. Then, it was used to guarantee the business continuity of public cloud and private cloud and verify the stability of cloud-native systems. Alibaba has accumulated rich scenarios and practical experience. At that time, the open-source tools related to chaos engineering had problems, such as scattered scenario capabilities, difficulty getting started, lack of experimental model standards, and difficulty expanding and accumulating scenarios. These problems make it difficult to realize platformization, and it is difficult to include these tools on one platform. Therefore, the execution tool ChaosBlade of chaos engineering experiment was opened. The section below describes it in detail through scenarios, usage methods, architecture design, and examples.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-chaos-experimental-scenario">1. Chaos Experimental Scenario<a class="hash-link" href="#1-chaos-experimental-scenario" title="Direct link to heading">​</a></h2><p>At the beginning of designing ChaosBlade, the ease of use and the convenience of scenario expansion are considered, which helps everyone use the tool and expand more experimental scenarios according to their needs. Following the chaos experimental model, a unified and concise execution tool was provided. The chaos experimental tool supports system platforms, such as Linux, Windows, Docker, and Kubernetes. It covers applications in Java, Golang, JavaScript, and C++. It involves more than 200 experimental scenarios and more than 3,000 experimental parameters (v1.0.0-GA). The following scenarios are included:</p><ul><li>Basic Resources: CPU, memory, network, disk, process, kernel, etc.</li><li>Application Services: Databases, caches, messages, JVM, microservices, etc. Any kind of method can be specified to inject various complex experimental scenarios, and any method or a line of code can be specified to inject delay, variable, return value tampering, and other experimental scenarios.</li><li>Docker Containers: Experimental scenarios, such as killing containers and CPU, memory, network, disk, and process in containers</li><li>Kubernetes Platform: Experimental scenarios, such as CPU, memory, network, disk, and process on nodes, experimental scenarios in Pod network and the Pod itself, such as killing Pod, and experimental scenarios in containers, such as the preceding Docker container</li><li>Cloud Resources: Alibaba Cloud ECS downtime and other experimental scenarios</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-tool-usage">2. Tool Usage<a class="hash-link" href="#2-tool-usage" title="Direct link to heading">​</a></h2><p><img loading="lazy" src="/assets/images/ca4801527fab0074b2a0fd4d675569e453e3f7e8-945ee5c412c498ab0fc567d5b02354b6.png" width="864" height="402" class="img_ev3q"></p><p>ChaosBlade is a tool that can be used by downloading and decompressing directly. It does not need to be installed. The calling mode it supports includes a CLI mode that directly executes blade commands.</p><p>For example, in the figure above about network latency, if you add the -h parameter, you can see a very perfect command prompt. For instance, if I want to call port 9520 to experiment on network packet loss and align the previous experimental model, its target is network, its action is packet loss, and its matcher is to call the remote service port 9520. After successful execution, the experimental results will be returned. Each experimental scenario is regarded as an object, and it will return the UID. This UID is used for subsequent experimental management, such as destroying and querying experiments. To destroy the experiment, that is, to restore the experiment, execute the <code>blade destroy</code> command.</p><p>Another way to call ChaosBlade is Web mode, which exposes HTTP services by executing server commands. At the upper level, if you build your chaos experimental platform, you can call ChaosBlade directly through HTTP requests.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-tool-architecture-design">3. Tool Architecture Design<a class="hash-link" href="#3-tool-architecture-design" title="Direct link to heading">​</a></h2><p><img loading="lazy" src="/assets/images/16a9118e25ea689b30a88a6a67dd4ba7e1ef8838-89e62d5dbb884ba347a47aba6fdd18a9.png" width="1050" height="524" class="img_ev3q"></p><p>ChaosBlade is packaged into independent projects according to the field, and each project is implemented according to the best practices of each field. This meets the usage habits of each field and establishes the relationship with the chaosblade cli project through the chaos experimental model, making it convenient to use ChaosBlade for uniform calls. The experimental scenarios in each field are described in YAML files based on the chaos experimental model and exposed to the upper chaos experiment platform. The platform automatically senses the changes of the experimental scenario according to the changes in the description files. The platform can also be developed when no new scenarios are needed. This way, the chaos platform can focus more on other parts of the chaos project. The currently included actuator items are listed below:</p><ul><li>chaosblade is a chaos experiment management tool. It includes commands for creating experiments, destroying experiments, querying experiments, preparing experiment environments, and revoking experiment environments. It is an execution tool for chaos experiments. The execution methods include CLI and HTTP. It provides complete descriptions of commands, experimental scenarios, and scenario parameters. The operations are concise and clear.</li><li>chaosblade-spec-go is the Golang definition of the chaos experimental model, which helps implement scenarios that use the Golang language.</li><li>chaosblade-exec-os implements basic resource experimental scenarios, such as CPU, network, memory, and disk.</li><li>chaosblade-exec-docker implements Docker container experimental scenarios, standardized by calling the Docker API.</li><li>chaosblade-operator implements experimental scenarios on Kubernetes platforms. Chaos experiments are defined by the Kubernetes standard CRD mode. It is very convenient to use Kubernetes resource operations to create, update, and delete experimental scenarios, including using methods, such as kubectl and client-go. It can also be executed using the preceding chaosblade cli.</li><li>chaosblade-exec-jvm implements Java application experimental scenarios. It is dynamically mounted using Java Agent technology without any access. It can be used at no cost, supports uninstallation, and can completely recycle every resource created by the Agent.</li><li>chaosblade-exec-cplus implements C++ application experimental scenarios. It uses GDB technology to implement method-level and code line-level experimental scenario injection.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-examples">4. Examples<a class="hash-link" href="#4-examples" title="Direct link to heading">​</a></h2><p>An example of Dubbo microservice is used to introduce the use of ChaosBlade. This microservice Demo involves three-level calls. The consumer calls the provider, and the provider calls the base. The provider also calls the mk-demo database. The provider and the base have two instances.</p><p><img loading="lazy" src="/assets/images/e203a88f1894dd439c1e31172a99245cc1039d79-cd61d7044d22ef7e58f805723efc7da2.png" width="864" height="550" class="img_ev3q"></p><p>The experimental scenario of this example is database call delay. First, we define the monitoring metrics: the number of slow SQL statements and alert information. The expected assumption: the number of slow SQL statements increases, and the DingTalk group receives slow SQL alerts. Next, perform the experiment. We use chaosblade directly. You can look at the lower left part of the figure above. When we inject the calls of MySQL query for demo-provider, if the database is demo and the table name is d_discount, 50% of query operations will be delayed by 600 milliseconds.</p><p><img loading="lazy" src="/assets/images/2f6a45bd3f203182e552578bf7a6abd261e8c582-c5975c64e83f8f6268496273e18cdf03.png" width="864" height="577" class="img_ev3q"></p><p>We use Alibaba Cloud ARMS for monitoring and alerting. As you can see, the DingTalk group receives an alert soon after performing the chaos experiment. The effect meets the expectation by comparing it with the monitoring metrics defined earlier. However, it should be noted that the results from this instance does not mean it will meet the expectation in the future, so continuous verification by chaos engineering is needed. If slow SQL statements occur, ARMS tracing analysis can be used to troubleshoot and locate them. You can see which statement is slow in execution.</p><h1>Chaos Engineering Platform: chaosblade-box</h1><p>Users expect to focus on solving system high availability problems through chaos engineering rather than the selection and deployment of experimental tools. Thus, ChaosBlade is upgraded, and the open-source chaosblade-box, a chaos engineering platform, is provided. The platform hosts mainstream chaos experimental tools, automates the deployment of tools, and implements chaos engineering through a unified operation page.</p><p><img loading="lazy" src="/assets/images/fad6c07086319b8eea7d555cd2f8a35631756f34-63039d80d8c5c913d90a086e41ef5da0.png" width="864" height="547" class="img_ev3q"></p><p>The following section describes chaosblade-box through its features, architecture design, and use cases.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-features">1. Features<a class="hash-link" href="#1-features" title="Direct link to heading">​</a></h2><p>It has the following features:</p><ul><li>Support for Open-Source Experimental Tool Hosting: The platform can host mainstream experimental tools in the industry, such as its own chaosblade and external LitmusChaos. The chaos mesh experiment tool will also be hosted in the future.</li><li>A Wide Range of Experimental Scenarios: Basic resources (such as CPU, memory, network, disk, process, kernel, and file), application services in multiple languages (such as Java, C++, JavaScript, and Golang), and Kubernetes platform (covering resources such as Container, Pod, and Node)</li><li>Automated Deployment of Experimental Tools: Manual deployment of experimental tools is unnecessary. It can realize automatic deployment of experimental tools on hosts or clusters.</li><li>Unified User Interface of Chaos Experiments: Users do not need to care about the use of different tools, and they can perform chaos experiments on the unified user interface.</li><li>Multi-Dimensional Experiment Mode: It supports experiment orchestration from the dimension of hosts to Kubernetes resources and applications.</li><li>Integrated Cloud-Native Ecosystem: It uses Helm for deployment management, integrates Prometheus for monitoring, and supports the hosting of cloud-native experimental tools.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-platform-architecture-design">2. Platform Architecture Design<a class="hash-link" href="#2-platform-architecture-design" title="Direct link to heading">​</a></h2><p><img loading="lazy" src="/assets/images/73a5c9df7f3036da52d543bd6e508570bd68bffa-24fc1cf30375f7ed71959f6042ba59b2.png" width="864" height="458" class="img_ev3q"></p><p>You can use the console page to automate the deployment of managed tools, such as chaosblade and LitmusChaos, and unify the experimental scenarios according to the chaos experimental model established by the community. You can also divide the target resources according to hosts, Kubernetes, and applications and use the target manager to control them. On the experiment creation page, you can select target resources in a visible way. The platform executes experimental scenarios of different tools by calling chaos executor. You can observe the experiment metrics with access to Prometheus monitoring. Rich experiment reports will be provided in the future. The deployment of chaosblade-box is also very simple.</p><p>You can see the details on here.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-instructions">3. Instructions<a class="hash-link" href="#3-instructions" title="Direct link to heading">​</a></h2><p><img loading="lazy" src="/assets/images/1d6afaff51d1d882f968fbc79647b1bf255b8030-3ba7634e6b98154cf4b1d397b4670ff4.png" width="864" height="402" class="img_ev3q"></p><p>After the installation and deployment are completed, you can configure the Kubernetes cluster or host information to view the cluster or host data on the Machine List page. Click Experiment Management to create the experiment. The drill dimensions include the host, node, pod, and container. After you select the corresponding dimension, the corresponding resource list appears, and you can select it easily. The drill contains all hosted experimental scenarios. After the experiment is created, you are redirected to the drill details page automatically. Click Execute to jump to the task details page.</p><p><img loading="lazy" src="/assets/images/2c1341f8817ac6529073c2ea2e7541243995b19e-0758d62fa3db91f83c00f0d3a7298135.png" width="864" height="402" class="img_ev3q"></p><p>The page of drill task details displays the basic information of the experiment and the status of the experiment task. You can easily control the experiment and clarify the status of the experiment task.</p><h1>The Future Planning</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-chaosblade">1. ChaosBlade<a class="hash-link" href="#1-chaosblade" title="Direct link to heading">​</a></h2><p>Based on cloud-native, ChaosBlade will provide a chaos engineering platform and chaos engineering experimental tools for multiple clusters, multiple environments, and multiple languages. Experimental tools continue to focus on the richness and stability of experimental scenarios, support more Kubernetes resource scenarios, normalize the experimental scenario standards of application service, and provide a standard implementation for experimental scenarios in multiple languages.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-chaosblade-box">2. chaosblade-box<a class="hash-link" href="#2-chaosblade-box" title="Direct link to heading">​</a></h2><p>In the future, the core functions of the Alibaba Cloud fault drill platform (with Advanced Certification of Chaos Engineering Platform in Trusted Cloud) will be open-sourced and integrated with the existing chaos engineering platform to open more capabilities. At the same time, it simplifies the deployment and implementation of chaos engineering tools. In the future, it will host more chaos experimental tools and be compatible with mainstream platforms. This way, it can implement scenario recommendations, provide integrated business and system monitoring, output experimental reports, and complete closed-loop chaos engineering operations on an easy-to-use basis.</p><h1>About Authors</h1><p>Xiao Changjun (Qionggu) is an Alibaba Technical Expert, Founder and Maintainer of the open-source project ChaosBlade, Head of Alibaba Cloud fault drill platform, an expert of Trusted Cloud Standards, and a chaos engineering expert with years of experience in distributed system architecture and stability construction.</p><p>Sang Jie works in the R&amp;D Center of Agricultural Bank of China and is engaged in big data R&amp;D in financial-related systems.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/chaosblade">chaosblade</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/chaosblade-io/chaosblade-website/edit/master/blog/2022-03-03-ChaosBlade-From-the-Chaos-Engineering-Experiment-Tool-to-the-Chaos-Engineering-Platform.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑本页</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2022/06/24/ChaosBlade-Box-new-release"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">混沌工程平台 ChaosBlade-Box 新版重磅发布</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2021/12/08/chaos-engineering-value"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">被你质疑价值的混沌工程，阿里巴巴已落地实践了9年</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-derivation-of-the-experimental-model" class="table-of-contents__link toc-highlight">1. Derivation of the Experimental Model</a></li><li><a href="#2-an-introduction-to-the-experimental-model" class="table-of-contents__link toc-highlight">2. An Introduction to the Experimental Model</a></li><li><a href="#3-the-significance-of-the-experimental-model" class="table-of-contents__link toc-highlight">3. The Significance of the Experimental Model</a></li><li><a href="#4-application-of-the-experimental-model" class="table-of-contents__link toc-highlight">4. Application of the Experimental Model</a></li><li><a href="#1-chaos-experimental-scenario" class="table-of-contents__link toc-highlight">1. Chaos Experimental Scenario</a></li><li><a href="#2-tool-usage" class="table-of-contents__link toc-highlight">2. Tool Usage</a></li><li><a href="#3-tool-architecture-design" class="table-of-contents__link toc-highlight">3. Tool Architecture Design</a></li><li><a href="#4-examples" class="table-of-contents__link toc-highlight">4. Examples</a></li><li><a href="#1-features" class="table-of-contents__link toc-highlight">1. Features</a></li><li><a href="#2-platform-architecture-design" class="table-of-contents__link toc-highlight">2. Platform Architecture Design</a></li><li><a href="#3-instructions" class="table-of-contents__link toc-highlight">3. Instructions</a></li><li><a href="#1-chaosblade" class="table-of-contents__link toc-highlight">1. ChaosBlade</a></li><li><a href="#2-chaosblade-box" class="table-of-contents__link toc-highlight">2. chaosblade-box</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">关于ChaosBlade</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/community/docs">贡献文档</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gitter.im/chaosblade-io/community" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/chaosblade.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/chaosblade-io/shared_invite/zt-f0d3r3f4-TDK13Wr3QRUrAhems28p1w" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/">钉钉(23177705)</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.netlify.com"><img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://cncf.io/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/cncf-white.svg" alt="CNCF" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/cncf-white.svg" alt="CNCF" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">© 2021 The ChaosBlade Authors. All rights reserved. <br>
            The Linux Foundation has registered trademarks and uses trademarks. 
            For a list of trademarks of The Linux Foundation, 
            please see our <a href="https://www.linuxfoundation.org/trademark-usage/"> Trademark Usage</a> page.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c5d3ab1b.js"></script>
<script src="/assets/js/main.eeac9d24.js"></script>
</body>
</html>